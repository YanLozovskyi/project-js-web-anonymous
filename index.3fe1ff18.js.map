{"mappings":"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","sources":["src/js/api/themoviedbAPI/test.js","src/js/upcoming.js","src/js/pages/home/hero.js","src/js/weekly-trends.js"],"sourcesContent":["import ApiMovie from './fetch-movie';\nconst apiMovie = new ApiMovie();\n\n// --------------------------ТЕСТ - Трендові фільми дня та тижня\n// async function getTrendMovieOfDay() {\n//   try {\n//     const response = await apiMovie.getTrend('day');\n//     console.log('Трендові фільми дня:', response.data.results);\n//   } catch (error) {\n//     console.log('Error:', error);\n//   }\n// }\n// getTrendMovieOfDay();\n\n// async function getTrendMovieOfWeek() {\n//   try {\n//     const response = await apiMovie.getTrend('week');\n//     console.log('Трендові фільми тижня :', response.data.results);\n//   } catch (error) {\n//     console.log('Error:', error);\n//   }\n// }\n// getTrendMovieOfWeek();\n\n// --------------------------ТЕСТ - Нові фільми\n\n//  async function getNewFilms() {\n//    try {\n//      const response = await apiMovie.getNewFilms();\n//      console.log('Нові фільми', response.data.results);\n//    } catch (error) {\n//      console.log('Error:', error);\n//    }\n//  }\n//  getNewFilms();\n\n// --------------------------ТЕСТ - Фільми за ключовим словом + за роком\n\n// apiMovie\n//   .searchByQueryYear('John Wick', 2023)\n//   .then(movies => {\n//     console.log(`Пошук результата:`, movies);\n//   })\n//   .catch(error => {\n//     console.log('Error:', error);\n//   });\n// async function getNewFilms() {\n//   try {\n//     const response = await apiMovie.getNewFilms(2);\n//     console.log('Нові фільми', response.data.results);\n//   } catch (error) {\n//     console.log('Error:', error);\n//   }\n// }\n// getNewFilms();\n\n// --------------------------ТЕСТ - Фільми за ключовим словом + за роком\n\n// async function searchByQueryYear() {\n//   try {\n//     if (true) {\n//       apiMovie.query = 'John Wick';\n//       const response = await apiMovie.searchByQueryYear(1);\n//       console.log('Пошук фільмів по назві:', response.data.results);\n//     } else {\n//       apiMovie.query = 'John Wick';\n//       const response = await apiMovie.searchByQueryYear(1);\n//       const filteredResults = response.data.results.filter(movie =>\n//         movie.release_date.includes(2023)\n//       );\n//       console.log('Пошук фільмів по назві + фільтр по року:', filteredResults);\n//     }\n//   } catch (error) {\n//     console.log('Error:', error);\n//   }\n// }\n\n// searchByQueryYear();\n\n// try to refactor\n\n// async function searchByQueryYear(year) {\n//   try {\n//     const response = await apiMovie.searchByQueryYear('John Wick');\n//     console.log(`Пошук результата:`, response);\n//     const filteredResults = response.data.results.filter(\n//       movie => movie.release_date && movie.release_date.includes(year)\n//     );\n//     return filteredResults;\n//   } catch (error) {\n//     console.log('Error:', error);\n//   }\n// }\n// console.log(searchByQueryYear(2023));\n\n//--------------------------ТЕСТ- Детальна інформація про фільм\n\n// const movieId = 245891;\n\n// async function getMovieInfo() {\n//   try {\n//     const response = await apiMovie.getMovieInfo(movieId);\n//     console.log('Детальна інформація про фільм:', response.data);\n//   } catch (error) {\n//     console.log('Error:', error);\n//   }\n// }\n\n// getMovieInfo();\n\n//--------------------------ТЕСТ - Повна інформація про можливий трейлер фільма на ютубі\n\n// const movieId = 245891;\n// async function getTrailer() {\n//   try {\n//     const response = await apiMovie.getTrailer(movieId);\n//     console.log('Movie Trailer:', response.data.results[0]);\n//   } catch (error) {\n//     console.log('Error:', error);\n//   }\n// }\n// getTrailer();\n\n//--------------------------ТЕСТ - Перелік жанрів\n\n// async function getGenres() {\n//   try {\n//     const response = await apiMovie.getGenresList();\n//     console.log('Перелік жанрів:', response.data.genres);\n//   } catch (error) {\n//     console.log('Error:', error);\n//   }\n// }\n\n// getGenres();\n","import ApiMovie from './api/themoviedbAPI/fetch-movie';\n\nimport { ServiceAddRemoveBtn } from './api/ServiceAddRemoveBtn/ServiceAddRemoveBtnAPI';\n\nconst apiMovie = new ApiMovie();\nconst IMAGE_URL = 'https://image.tmdb.org/t/p/original/';\n\nconst movieDescription = document.querySelector('.movieDescription');\n\ngetNewFilms();\n\nasync function getNewFilms() {\n  try {\n    const response = await apiMovie.getNewFilms();\n    const randomFilm = randomElement(response.data.results);\n\n    const movie = await apiMovie.getMovieInfo(randomFilm.id);\n\n    movieDescription.innerHTML = createUpcomingMovieMarkup(movie.data);\n\n    const addRemoveBtn = document.querySelector('.add-remove-btn');\n\n    const serviceAddRemoveBtn = new ServiceAddRemoveBtn(addRemoveBtn, movie);\n\n    serviceAddRemoveBtn.setButtonName();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction randomElement(arr) {\n  const rand = Math.floor(Math.random() * arr.length);\n  return arr[rand];\n}\n\nfunction createUpcomingMovieMarkup({\n  id,\n  backdrop_path,\n  original_title,\n  release_date,\n  vote_average,\n  vote_count,\n  popularity,\n  genres,\n  overview,\n  poster_path,\n}) {\n  const allGenres = genres.map(({ name }) => name).join(', ');\n  return `\n    <div class=\"image-upcoming\">  \n    <img loading=\"lazy\" class=\"gallery-item_img\"\n        width=\"704\" height=\"400\"\n        srcset=\"\n  https://image.tmdb.org/t/p/w780${backdrop_path} 768w,\n  https://image.tmdb.org/t/p/w300${backdrop_path} 320w\"\n  src=\"https://image.tmdb.org/t/p/w300${backdrop_path}\" \"sizes=\"(min-width: 1280px) 1280px, (min-width: 768px) 768px, (min-width: 320px) 320px, 100vw \"        \n  \n        alt=\"Movie Poster\">\n    </div>\n    <div class=\"gallery-item\" id=\"${id}\">\n      <h3 class=\"info-item-title\">${original_title}</h3>\n      <div class=\"info\">\n        <ul class=\"info-item-one-part\">\n          <li class=\"info-item\">Release date</li>\n          <li class=\"info-item\">Vote / Votes</li>\n        </ul>\n        <ul class=\"info-item-two-part\">\n          <li class=\"info-item-two info-item-second\">${release_date}</li>\n          <li class=\"info-item-two\">\n            <span class=\"info-item-fourth vote-text\">${vote_average}</span> / <span class=\"info-item-fourth vote-text\">${vote_count}</span>\n          </li>\n        </ul>\n        <ul class=\"info-item-one-part\">\n          <li class=\"info-item\">Popularity</li>\n          <li class=\"info-item\">Genre</li>\n        </ul>\n        <ul class=\"info-item-two-part\">\n          <li class=\"info-item-two\">${popularity}</li>\n          <li class=\"info-item-two\">${allGenres}</li>\n        </ul>\n      </div>\n      <div class=\"info-item-about\">\n        <h4 class=\"info-item-thirty\">About</h4>\n        <p class=\"info-item-about-movie\">${overview}</p>\n      </div>\n      <button type=\"button\" class=\"add-remove-btn button-accent\" id=\"fix\"></button>\n    </div>`;\n}\n","import '~node_modules/swiper/swiper-element-bundle.min.js';\nimport ApiMovie from '../../api/themoviedbAPI/fetch-movie';\nimport { getStar } from '../../components/getStar';\nimport * as basicLightbox from 'basiclightbox';\nimport { ServiceAddRemoveBtn } from '../../api/ServiceAddRemoveBtn/ServiceAddRemoveBtnAPI';\nimport { ScrollService } from '../../components/scrollService';\n\nconst scrollService = new ScrollService();\n\nconst apiMovie = new ApiMovie();\nconst IMG_URL = 'https://image.tmdb.org/t/p/original';\nconst svgCloseIcon = `<svg width=\"10\" height=\"10\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path class=\"svg-close-icon\" d=\"M11.25 11.25L0.75 0.75M11.25 0.75L0.75 11.25\" stroke=\"#ffffff\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>`;\nconst contentPath = document.querySelector('.hero-content');\n\nconst contentPathDefault = document.querySelector('.hero-default');\n// --------------------------ТЕСТ - Трендові фільми дня та тижня\n\nasync function getTrendMovieOfDay() {\n  try {\n    const response = await apiMovie.getTrend('day');\n    const randomFilms = randomElement(response.data.results);\n\n    if (response.data.results.length === 0) {\n      createDefaultMarkup(contentPathDefault);\n\n      DefaultMarkupSettings();\n    } else {\n      createMarkupFilm(randomFilms.slice(0, 5), contentPath);\n    }\n  } catch (error) {\n    console.log('Error:', error);\n  }\n}\n// style = 'background-image: url(${IMG_URL}${backdrop_path})';\ngetTrendMovieOfDay();\n\nasync function createMarkupFilm(response, path) {\n  const markup = response\n    .map(({ original_title, overview, backdrop_path, vote_average, id }) => {\n      const movieSrc = getImg(backdrop_path, original_title);\n      return `\n      <swiper-slide class=\"hero-film_background hero-wrap\"\n      data-movie-id=\"${id}\"\n      ><img class=\"hero-film_background\" width=\"1280\" height=\"720\" ${movieSrc}/><div class=\"swiper-test\">\n        <div class=\"hero-wrap\">\n          <h1 class=\"hero-title\">${original_title}</h1>\n          <div class=\"hero-stars\">${getStar(vote_average)}</div>\n          <p class=\"hero-description-js\">${overview}</p>\n          <div class=\"hero-buttons\">\n            <button class=\"hero-button-trailer \">\n              Watch trailer\n            </button>\n            <button class=\"hero-button-moredetails\n          \">\n              More details\n            </button>\n          </div>\n        </div></div>\n      </swiper-slide>\n    `;\n    })\n    .join('');\n  path.innerHTML = markup;\n  showTrailer(response);\n  showModalMoreDetails(response);\n}\n\nfunction createDefaultMarkup(path) {\n  const markup = `\n  <div class=\"hero-content\">\n  <h1 class=\"hero-title-default\">Let’s Make Your Own Cinema</h1>\n    <p class=\"hero-description-default\">Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers.</p>\n    <a class=\"hero-link\" href=\"./catalog.html\">Get Started</a>\n    \n    <div class=\"hero-picture-default\">\n</div>\n</div>\n`;\n  path.innerHTML = markup;\n}\n\nfunction randomElement(arr) {\n  arr = arr.sort(() => Math.random() - 0.5);\n\n  return arr;\n}\n\nfunction DefaultMarkupSettings() {\n  const heroDescription = document.querySelector('.hero-description-default');\n  const heroContent = document.querySelector('.hero-content');\n\n  heroContent.classList.add('hero-content-default');\n  heroContent.classList.add('container');\n\n  heroContent.classList.remove('hero-content');\n  const screenSize = window.innerWidth;\n\n  if (screenSize > 768) {\n    heroDescription.textContent =\n      \"Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience.\";\n  } else {\n    heroDescription.textContent =\n      \"Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. \";\n  }\n}\n\nasync function showTrailer(response) {\n  const buttons = document.querySelectorAll('.hero-button-trailer');\n\n  buttons.forEach((button, index) => {\n    button.addEventListener('click', () => {\n      onButtonClick(response[index].id);\n    });\n  });\n\n  async function onButtonClick(movieId) {\n    try {\n      const youtubeTrailers = await apiMovie.getTrailer(movieId);\n      const trailer = youtubeTrailers.data.results.find(\n        el => el.type === 'Trailer' || el.name === 'Official Trailer'\n      );\n\n      if (!trailer) {\n        throw new Error('Trailer not found');\n      }\n\n      const instance = basicLightbox.create(\n        `\n        <iframe class=\"iframe\" src=\"https://www.youtube.com/embed/${trailer.key}\" width=\"560\" height=\"315\" frameborder=\"0\"></iframe>\n      `,\n        {\n          handlerEscape: null,\n          onShow() {\n            scrollService.blockScroll();\n            this.handlerEscape = handlerEsc.bind(instance);\n            document.addEventListener('keydown', this.handlerEscape);\n          },\n          onClose() {\n            scrollService.restoreScroll();\n            document.removeEventListener('keydown', this.handlerEscape);\n          },\n        }\n      );\n\n      instance.show();\n    } catch (error) {\n      markupForMistake().show();\n      console.log('Error:', error);\n    }\n  }\n}\n\nfunction handlerEsc(evt) {\n  if (evt.code === 'Escape') {\n    this.close();\n  }\n}\n\nfunction handlerClose() {\n  this.close();\n}\n\nfunction markupForMistake() {\n  const instance = basicLightbox.create(`\n  <div class=\"trailer-fail\">\n  <p class=\"trailer-fail-text\">OOPS...<br/> We are very sorry!<br /> But we couldn’t find the trailer.</p>\n  <button type=\"button\" class=\"btn-close\"><svg class=\"btn-close--svg\">\n  <use href='/sprite.a5e5e87b.svg#icon-close'></use>\n  </svg>\n  </button>\n  <div class=\"bg-box\"></div>\n  </div>\n  `);\n\n  const buttonClose = instance.element().querySelector('.btn-close');\n  buttonClose.addEventListener('click', onButtonCloseClick);\n  function onButtonCloseClick() {\n    instance.close();\n    buttonClose.removeEventListener('click', onButtonCloseClick);\n  }\n\n  return instance;\n}\n\n//! modal------------------\n\nfunction showModalMoreDetails(response) {\n  const buttonsMoreDetails = document.querySelectorAll(\n    '.hero-button-moredetails'\n  );\n\n  buttonsMoreDetails.forEach((button, index) => {\n    button.addEventListener('click', () => {\n      onButtonMoreClick(response[index].id);\n    });\n  });\n\n  async function onButtonMoreClick(movieId) {\n    try {\n      const movie = await apiMovie.getMovieInfo(movieId);\n\n      const instance = basicLightbox.create(markupMovieCard(movie.data), {\n        handlerEscape: null,\n        handlerBtnClose: null,\n\n        onShow: instance => {\n          scrollService.blockScroll();\n\n          const addRemoveBtn = instance\n            .element()\n            .querySelector('button[data-action=\"add-remove-to-my-library\"]');\n\n          const serviceAddRemoveBtn = new ServiceAddRemoveBtn(\n            addRemoveBtn,\n            movie\n          );\n          serviceAddRemoveBtn.setButtonName();\n\n          const escapeHandler = handlerEsc.bind(instance);\n          document.addEventListener('keydown', escapeHandler);\n\n          // this.handlerEscape = handlerEsc.bind(instance);\n          // document.addEventListener('keydown', this.handlerEscape);\n\n          const closeButton = instance\n            .element()\n            .querySelector('#closeModalPopUp');\n          const btnCloseHandler = handlerClose.bind(instance);\n          closeButton.addEventListener('click', btnCloseHandler);\n\n          // const btnCloseEl = instance\n          //   .element()\n          //   .querySelector('#closeModalPopUp');\n\n          // this.handlerBtnClose = handlerClose.bind(instance);\n          // btnCloseEl.addEventListener('click', this.handlerBtnClose);\n        },\n\n        onClose() {\n          scrollService.restoreScroll();\n\n          document.removeEventListener('keydown', this.handlerEscape);\n          document.removeEventListener('click', this.handlerBtnClose);\n        },\n      });\n\n      instance.show();\n\n      showTrailer(movie);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nfunction markupMovieCard({\n  id,\n  poster_path,\n  original_title,\n  vote_average,\n  vote_count,\n  popularity,\n  genres,\n  overview,\n}) {\n  const allGenres = genres.map(({ name }) => name).join(', ');\n  return `\n<div class=\"pop-up-modal visual\" id=\"modalPopUp\">\n  <button class=\"pop-up-modal__close\" id=\"closeModalPopUp\">\n    ${svgCloseIcon}\n  </button>\n  <div class=\"pop-up-modal__container\">\n    <img src=\"${IMG_URL}${poster_path}\" alt=\"image.png\" class=\"pop-up-modal__img\" />\n    <div class=\"pop-card\" id=\"${id}\">\n      <h2 class=\"pop-up-modal__title\">${original_title}</h2>\n      <div class=\"pop-up-modal__blok\">\n        <ul class=\"pop-up-modal__list\">\n          <li class=\"pop-up-modal__link\">Vote / Votes</li>\n          <li class=\"pop-up-modal__link\">Popularity</li>\n          <li class=\"pop-up-modal__link\">Genre</li>\n          <li class=\"pop-up-modal__link\">ABOUT</li>\n        </ul>\n        <ul class=\"pop-up-modal__list\">\n          <li class=\"pop-up-modal__link-item item-votes\">\n            <div class=\"vote\">${vote_average}</div>\n            &nbsp;/&nbsp;\n            <div class=\"votes\">${vote_count}</div>\n          </li>\n          <li class=\"pop-up-modal__link-item popularity\">${popularity}</li>\n          <li class=\"pop-up-modal__link-item genres\">${allGenres}</li>\n        </ul>\n      </div>\n      <div class=\"pop-up-modal__about\">\n        <p class=\"pop-up-modal__about-txt\">${overview}</p>\n      </div>\n        <div class=\"pop-up-modal-wrap-btn\">\n          <button\n            class=\"add-remove-btn button-accent\"\n            type=\"button\"\n            data-action=\"add-remove-to-my-library\"\n          ></button>\n        </div>\n    </div>\n  </div>\n</div>\n`;\n}\n\nfunction getImg(backdrop_path, title) {\n  // if (poster === null || !poster) {\n  //   return `src='${comingSoonImg}' alt='${title}'`;\n  // }\n\n  return `\n    srcset=\"https://image.tmdb.org/t/p/w1280${backdrop_path} 1280w,\n  https://image.tmdb.org/t/p/w780${backdrop_path} 768w,\n  https://image.tmdb.org/t/p/w300${backdrop_path} 320w\"\n  src=\"https://image.tmdb.org/t/p/w300${backdrop_path}\" \"sizes=\"(min-width: 1280px) 1280px, (min-width: 768px) 768px, (min-width: 320px) 320px, 100vw \"   \n     alt='${title}'`;\n}\n","import ApiMovie from './api/themoviedbAPI/fetch-movie';\n\nimport { createMarkupFilmsCards } from './components/createMarkupFilmCard';\nimport { Loader } from './loader';\nconst list = document.querySelector('.card-list');\n\nconst apiMovie = new ApiMovie();\n\nconst loader = new Loader();\n\nasync function getTrendMovieOfWeek() {\n  try {\n    loader.onShow();\n    const response = await apiMovie.getTrend('week');\n\n    const correctList = response.data.results.slice(0, 3);\n\n    list.innerHTML = await createMarkupFilmsCards(correctList);\n  } catch (error) {\n    console.log('Error:', error);\n  }\n  loader.onClose();\n}\n\ngetTrendMovieOfWeek();\n"],"names":["$9IVsr","parcelRequire","default","$bpxeT","$4c6aab06649ec8ef$var$apiMovie","$4c6aab06649ec8ef$var$movieDescription","document","querySelector","$4c6aab06649ec8ef$var$_getNewFilms","$parcel$interopDefault","$2TvXO","mark","_callee","response","randomFilm","movie","addRemoveBtn","getNewFilms","_ctx","sent","$4c6aab06649ec8ef$var$randomElement","data","results","getMovieInfo","id","innerHTML","$4c6aab06649ec8ef$var$createUpcomingMovieMarkup","$2IWo3","ServiceAddRemoveBtn","setButtonName","console","log","t0","apply","this","arguments","arr","Math","floor","random","length","param1","backdrop_path","original_title","release_date","vote_average","vote_count","popularity","genres","overview","allGenres","poster_path","map","param","name","join","concat","$4c6aab06649ec8ef$var$getNewFilms","$ba35f1c179c6337c$var$scrollService","ScrollService","$ba35f1c179c6337c$var$apiMovie","$ba35f1c179c6337c$var$contentPath","$ba35f1c179c6337c$var$contentPathDefault","$ba35f1c179c6337c$var$_getTrendMovieOfDay","randomFilms","getTrend","$ba35f1c179c6337c$var$randomElement","$ba35f1c179c6337c$var$createDefaultMarkup","$ba35f1c179c6337c$var$DefaultMarkupSettings","$ba35f1c179c6337c$var$createMarkupFilm","slice","path","$ba35f1c179c6337c$var$_createMarkupFilm","markup","movieSrc","$ba35f1c179c6337c$var$getImg","$h7PvK","getStar","$ba35f1c179c6337c$var$showTrailer","$ba35f1c179c6337c$var$showModalMoreDetails","sort","heroDescription","heroContent","classList","add","remove","screenSize","window","innerWidth","textContent","$ba35f1c179c6337c$var$_showTrailer","_callee1","onButtonClick","_onButtonClick","movieId","youtubeTrailers","trailer","instance","getTrailer","find","el","type","Error","$dyT35","create","key","handlerEscape","onShow","blockScroll","$ba35f1c179c6337c$var$handlerEsc","bind","addEventListener","onClose","restoreScroll","removeEventListener","show","$ba35f1c179c6337c$var$markupForMistake","querySelectorAll","forEach","button","index","evt","code","close","$ba35f1c179c6337c$var$handlerClose","buttonClose","element","onButtonCloseClick","_onButtonMoreClick","$ba35f1c179c6337c$var$markupMovieCard","handlerBtnClose","escapeHandler","closeButton","btnCloseHandler","onButtonMoreClick","title","$ba35f1c179c6337c$var$getTrendMovieOfDay","$fe3a3a1ac89f0559$var$list","$fe3a3a1ac89f0559$var$apiMovie","$fe3a3a1ac89f0559$var$loader","$kvC6y","Loader","$fe3a3a1ac89f0559$var$_getTrendMovieOfWeek","correctList","$bxNz7","createMarkupFilmsCards","$fe3a3a1ac89f0559$var$getTrendMovieOfWeek"],"version":3,"file":"index.3fe1ff18.js.map"}